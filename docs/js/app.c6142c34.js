(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],d=0,v=[];d<s.length;d++)r=s[d],n[r]&&v.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],a=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=o[0]))}return t}var a={},n={1:0},i=[];function r(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=a,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(o,a,function(e){return t[e]}.bind(null,a));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([5,0]),o()})({"17j8":function(t,e,o){},5:function(t,e,o){t.exports=o("Vtdi")},"7EbL":function(t,e,o){},CaZM:function(t,e,o){"use strict";var a=o("OlHE"),n=o.n(a);n.a},IgPM:function(t,e,o){"use strict";var a=o("17j8"),n=o.n(a);n.a},Okdh:function(t,e,o){},OlHE:function(t,e,o){},VhOD:function(t,e,o){"use strict";var a=o("sTEK"),n=o.n(a);n.a},Vtdi:function(t,e,o){"use strict";o.r(e);o("VRzm");var a=o("Kw5r"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-layout",{attrs:{"mb-5":""}},[o("v-flex",{attrs:{sm12:""}},[o("v-card",{attrs:{color:"blue lighten-2",flat:"",tile:"",dark:""}},[o("v-toolbar",{attrs:{prominent:"",extended:"",color:"blue"}},[o("v-toolbar-side-icon",{staticClass:"hidden-md-and-up"}),o("v-spacer"),o("v-toolbar-title",{staticClass:"app-title"},[t._v("Air Traffic App v1.1")]),o("v-spacer"),o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("more_vert")])],1)],1)],1),o("v-avatar",{staticClass:"site-logo",attrs:{size:100}},[o("img",{attrs:{src:"logo.png",alt:"John"}})])],1)],1),o("v-container",{attrs:{fluid:""}},[o("v-container",[o("v-layout",[o("v-flex",{attrs:{sm12:"",lg10:"","offset-lg1":""}},[o("v-layout",[o("v-flex",{staticClass:"mt-3",attrs:{"hidden-sm-and-down":"",md4:""}},[o("v-navigation-drawer",{attrs:{stateless:"","hide-overlay":""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[o("v-list",{staticClass:"pa-0 mt-3"},[o("v-list-tile",{attrs:{avatar:""}},[o("v-list-tile-avatar",[o("img",{attrs:{src:"https://media.licdn.com/dms/image/C4D03AQEsj6a2s2GWzg/profile-displayphoto-shrink_100_100/0?e=1533168000&v=beta&t=o1ZSAvAI_CzqCDRMUMmOPdaWbGmR8kkFjJ8RiH3rrug"}})]),o("v-list-tile-content",[o("v-list-tile-title",[t._v("Zeljko Olah")])],1)],1)],1)],1),o("v-list",{staticClass:"pt-4",attrs:{dense:""}},[o("v-divider"),t._l(t.items,function(e,a){return o("v-list-tile",{key:e.title,staticClass:"mt-3"},[o("v-list-tile-action",[o("v-icon",[t._v(t._s(e.icon))])],1),o("v-list-tile-content",[o("v-list-tile-title",a>0?[t._v(t._s(e.title))]:[t._v(t._s(t.getAddress))]),o("v-list-tile-sub-title",[o("a",{attrs:{href:e.link}},[t._v(t._s(e.subtitle))])])],1)],1)})],2)],1)],1),o("v-flex",{attrs:{xs12:"",md8:""}},[o("v-content",[o("v-container",{attrs:{fluid:""}},[o("router-view")],1)],1)],1)],1)],1)],1)],1)],1),o("v-footer",{attrs:{app:""}},[o("v-spacer"),t._v("\n    MADE WITH\n    "),o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("favorite")])],1),t._v("\n    AND VUE\n    "),o("v-spacer")],1)],1)},i=[],r=o("yT7P"),s=o("L2JU"),l={name:"App",data:function(){return{drawer:!0,items:[{title:"My Location",icon:"location_on",subtitle:"",link:""},{title:"Home",icon:"home",subtitle:"Quantox Technologies ltd.",link:"https://quantox.com/"}],mini:!0,right:null}},computed:Object(r["a"])({},Object(s["c"])(["getAddress"]))},c=l,u=(o("ZCWV"),o("IgPM"),o("KHd+")),d=Object(u["a"])(c,n,i,!1,null,null,null),v=d.exports,f=o("jE9Z"),g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ListFlights",{attrs:{flights:t.getFlights,address:t.getAddress,lat:t.getCoordinates.lat,lng:t.getCoordinates.lng,allowGeolocation:t.allowGeolocation}})},p=[],m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs12:"",sm12:""}},[t.loading?o("v-progress-circular",{attrs:{size:50,indeterminate:"",color:"primary"}}):o("v-card",[t.allowGeolocation?o("v-toolbar",{attrs:{color:"blue",dark:""}},[o("v-toolbar-title",[t._v(t._s(t.address))]),o("v-spacer"),o("v-tooltip",{attrs:{left:""}},[o("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[o("v-icon",[t._v("location_on")])],1),o("span",[t._v("Lat: "+t._s(t._f("twoDecimals")(t.lat))+", Lng: "+t._s(t._f("twoDecimals")(t.lng)))])],1)],1):o("v-toolbar",{attrs:{color:"red",dark:""}},[o("v-toolbar-title",[t._v("You need to allow Geolocation for this app to work!")]),o("v-spacer")],1),0===t.flights.length&&t.allowGeolocation?o("v-list",[o("v-btn",{on:{click:t.reloadPage}},[t._v("\n          No data\n        ")])],1):t.allowGeolocation&&t.flights.length>0?o("v-list",t._l(t.flights,function(e){return o("v-list-tile",{key:e.Id,on:{click:function(o){t.$router.push({name:"details",params:{id:e.Id}})}}},[o("v-list-tile-action",[o("v-icon",{staticClass:"plane-icon",class:{rotate180:e.Brng>180},attrs:{color:"blue lighten-2"}},[t._v(" airplanemode_active\n           ")])],1),o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"text-xs-left"},[t._v("\n              "+t._s(e.Alt)+" "),o("strong",[t._v("ft")])])],1),o("v-list-tile-content",[o("v-list-tile-title",{staticClass:"flight-number"},[o("strong",[t._v("#id - ")]),t._v(t._s(e.Id))])],1),o("v-list-tile-action",[o("v-btn",{attrs:{color:"info"}},[t._v("\n              View details\n            ")])],1)],1)})):o("v-list",[o("v-btn",{on:{click:t.reloadPage}},[o("v-icon",[t._v("refresh")]),t._v("\n          Refresh page and try again\n        ")],1)],1)],1)],1)],1)},h=[],b={name:"list-flights",props:["flights","address","lat","lng","allowGeolocation"],computed:Object(r["a"])({},Object(s["c"])(["loading"])),filters:{twoDecimals:function(t){return Math.round(100*t)/100}},methods:{reloadPage:function(){window.document.location.reload()}}},_=b,w=(o("dLWC"),Object(u["a"])(_,m,h,!1,null,"2afef744",null)),y=w.exports,O={name:"home",props:["coords"],components:{ListFlights:y},computed:Object(r["a"])({},Object(s["c"])(["getCoordinates","allowGeolocation","getFlights","getAddress"])),mounted:function(){var t=this;"geolocation"in navigator?console.log("Geolocation OK!"):alert("You may have to upgrade your Browser to use this app!"),this.allowGeolocation||(confirm("This app wants to use geolocation")?this.$store.dispatch("fetchUserLocation").then(function(e){var o=e.lat,a=e.lng,n=t;n.$store.dispatch("fetchFlights",{lat:o,lng:a}),setInterval(function(){n.$store.dispatch("fetchFlights",{lat:o,lng:a})},6e4)}):console.log("Error: You need to allow geolocation to use this app!"))}},C=O,A=(o("VhOD"),Object(u["a"])(C,g,p,!1,null,null,null)),k=A.exports,x=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-layout",[o("v-flex",{attrs:{xs12:""}},[t.current?o("v-card",{staticClass:"black--text",attrs:{color:"white"}},[o("v-container",{attrs:{fluid:"","grid-list-lg":""}},[o("v-layout",{attrs:{row:""}},[o("v-flex",{attrs:{xs7:""}},[o("div",{staticStyle:{"text-align":"left"}},[o("div",{staticClass:"headline"},[o("span",{staticClass:"details-info"},[t._v("Manufacturer:")]),t._v(t._s(t.current.Man))]),o("div",[o("span",{staticClass:"details-info"},[t._v("Model:")]),t._v(t._s(t.current.Mdl)+"\n                ")]),t.current.From?o("div",[o("span",{staticClass:"details-info"},[t._v("From:")]),o("span",{staticClass:"details-results"},[t._v(t._s(t.current.From))])]):o("div",[o("span",{staticClass:"details-info"},[t._v("From:")]),t._v("No data\n                ")]),t.current.To?o("div",[o("span",{staticClass:"details-info"},[t._v("To:")]),t._v(t._s(t.current.To)+"\n                ")]):o("div",[o("span",{staticClass:"details-info"},[t._v("To:")]),t._v(" No data\n                ")])]),o("v-btn",{staticClass:"mt-4",attrs:{block:"",left:"",color:"blue",dark:""},on:{click:function(e){t.$router.go(-1)}}},[t._v("\n                Back\n              ")])],1),o("v-flex",{attrs:{xs5:""}},[o("v-card-media",{attrs:{src:t.operatorName(t.current.Op),height:"125px",contain:""}}),t.current.Op?o("div",{staticStyle:{"margin-top":"10px"}},[t._v("\n                "+t._s(t.current.Op)+"\n              ")]):t._e()],1)],1)],1)],1):o("v-card",[o("h2",{attrs:{"mb-3":""}},[t._v("Please go back and try again!")]),o("v-btn",{attrs:{color:"blue",dark:""},on:{click:function(e){t.$router.push({name:"home"})}}},[t._v("\n          Home\n        ")])],1)],1)],1)],1)},F=[],j=(o("rGqo"),o("yt8O"),o("RW0V"),o("Z2Ku"),o("L9s1"),{"Air Serbia":"air-serbia.com","Air France":"airfrance.fr","Almasria Universal Airlines":"almasria.net",Austrian:"austrianairlines.ag","Azur Air":"azurair.com","Blue Air":"blueair.com","Bulgaria Air":"air.bg","Cobalt Air":"cobalt-aircraft.com","Condor Flugdienst":"condor.com",Egyptair:"egyptairplus.com","Ernest Air":"flyernest.com",Germania:"flygermania.com",Lufthansa:"lufthansa.com","NetJets Europe":"netjets.com","Pegasus Airlines":"flypgs.com","Primera Air Nordic":"primeraair.fi","Royal Jordanian Airlines":"rj.com",Ryanair:"ryanair.com","Scandinavian Airlines System":"flysas.com",SunExpress:"sunexpress.com","Thomas Cook Airlines":"thomascookairlines.com",Tarom:"tarom.ro","Travel Service Airlines":"travel-service.com.ua",Transavia:"transavia.com","TUI Airlines Netherlands":"tui.com",TUIfly:"tuifly.com","Turkish Airlines":"turkishairlines.com","WILMINGTON TRUST CO     - WILMINGTON, DE":"wilmingtontrust.com","Wizz Air":"wizzair.com"}),T={name:"flight-details",computed:Object(r["a"])({},Object(s["c"])({current:"getCurrentFlight"})),methods:Object(r["a"])({},Object(s["b"])(["getFlightDetails"]),{operatorName:function(t){var e;return console.log("Operater:::",t),console.log(Object.keys(j).includes(t)),e=Object.keys(j).includes(t)?"https://logo.clearbit.com/".concat(j[t]):"http://www.truemovers.in/images/no-logo.png",e}}),mounted:function(){console.log(this.$route.params),this.getFlightDetails(this.$route.params)}},G=T,I=(o("CaZM"),Object(u["a"])(G,x,F,!1,null,null,null)),E=I.exports;a["a"].use(f["a"]);var S=new f["a"]({routes:[{path:"/",name:"home",component:k},{path:"/details/:id",name:"details",component:E}]}),P=(o("Vd3H"),o("iv4g")),D=o("vDqi"),L=o.n(D),M=L.a.create({baseURL:"http://localhost:3000/api"}),N=M;a["a"].use(s["a"]);var z=new s["a"].Store({state:{lat:"",lng:"",allowGeolocation:!1,flights:[],address:"",currentFlight:null,loading:!1},mutations:{setCoordinates:function(t,e){t.lat=e.lat,t.lng=e.lng},allowGeolocation:function(t,e){t.allowGeolocation=e},storeFlights:function(t,e){t.flights=e},setAddress:function(t,e){t.address=e},setCurrentFlight:function(t,e){t.currentFlight=e},loading:function(t,e){t.loading=e}},actions:{fetchUserLocation:function(t){t.state;var e=t.commit,o=t.dispatch;return new Promise(function(t,a){try{e("loading",!0),navigator.geolocation.getCurrentPosition(function(a){console.log("Fetching Airplanes for this location inside store",a.coords.latitude,a.coords.longitude),e("allowGeolocation",!0),e("setCoordinates",{lat:a.coords.latitude,lng:a.coords.longitude}),o("fetchUserAddress"),t({lat:a.coords.latitude,lng:a.coords.longitude}),console.log("POSITION:::",a)})}catch(t){a(t)}})},fetchFlights:function(t,e){var o=t.commit,a=e.lat,n=e.lng;console.log("FETCHING FLIGHTS FOR COORDINATES:::",a,n),o("loading",!0),N.get("/flights",{params:{lat:a,lng:n}}).then(function(t){o("storeFlights",t.data.data.acList),o("loading",!1)}).catch(function(t){o("loading",!1),console.log(t)})},fetchUserAddress:function(t){var e=t.commit;N.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=44.8481564,20.355491&key=AIzaSyD9FwzlR4IfBYsNhIhk3FYZxwbPz6lS0cU").then(function(t){console.log("FIND ADDRESS::: ",t.data.results[1].formatted_address);var o=t.data.results[1].formatted_address;e("setAddress",o)})},getFlightDetails:function(t,e){var o=t.commit,a=t.getters,n=a.getFlights.slice(),i=n.filter(function(t){return t.Id===e.id});o.apply(void 0,["setCurrentFlight"].concat(Object(P["a"])(i)))}},getters:{allowGeolocation:function(t){return t.allowGeolocation},getCoordinates:function(t){return{lat:t.lat,lng:t.lng}},getFlights:function(t){return t.flights.sort(function(t,e){return e.Alt-t.Alt})},getAddress:function(t){return t.address},getCurrentFlight:function(t){return t.currentFlight},loading:function(t){return t.loading}}}),R=o("zlta"),U=o.n(R);a["a"].config.productionTip=!1,a["a"].use(U.a),new a["a"]({router:S,store:z,render:function(t){return t(v)}}).$mount("#app")},ZCWV:function(t,e,o){"use strict";var a=o("7EbL"),n=o.n(a);n.a},dLWC:function(t,e,o){"use strict";var a=o("Okdh"),n=o.n(a);n.a},sTEK:function(t,e,o){}});
//# sourceMappingURL=app.c6142c34.js.map